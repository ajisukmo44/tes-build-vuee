(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f86d3f6"],{"0cf9":function(t,a,s){"use strict";s("d13a")},"4a07":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("Layout",[s("PageHeader",{attrs:{title:t.title,items:t.items}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-8"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.loading?s("div",{staticClass:"row mt-5 mb-5 pb-4 mx-auto"},[s("div",{staticClass:"col-12 p-5 m-4 text-center"},[t.loading?s("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading..")])]):t._e()])]):t._e(),t.loading||"su"!=t.user_type?t._e():s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"font-weight-bold mb-4"},[t._v("Mail")]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table bordered table text-left"},[s("thead",[s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v(t._s(t.$t("mail.email-sender")))])]),s("td",{attrs:{width:"70%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.email_sender,expression:"mail.email_sender"}],staticClass:"form-control bg-light",attrs:{type:"text"},domProps:{value:t.mail.email_sender},on:{input:function(a){a.target.composing||t.$set(t.mail,"email_sender",a.target.value)}}})])]),s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v("Host")])]),s("td",{attrs:{width:"70%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.host,expression:"mail.host"}],staticClass:"form-control bg-light",attrs:{type:"text"},domProps:{value:t.mail.host},on:{input:function(a){a.target.composing||t.$set(t.mail,"host",a.target.value)}}})])]),s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v("Username")])]),s("td",{attrs:{width:"80%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.username,expression:"mail.username"}],staticClass:"form-control bg-light",attrs:{type:"text"},domProps:{value:t.mail.username},on:{input:function(a){a.target.composing||t.$set(t.mail,"username",a.target.value)}}})])]),s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v("Password")])]),s("td",{attrs:{width:"80%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.password,expression:"mail.password"}],staticClass:"form-control bg-light",attrs:{type:"text"},domProps:{value:t.mail.password},on:{input:function(a){a.target.composing||t.$set(t.mail,"password",a.target.value)}}})])]),s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v("Port")])]),s("td",{attrs:{width:"80%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.port,expression:"mail.port"}],staticClass:"form-control bg-light",attrs:{type:"text"},domProps:{value:t.mail.port},on:{input:function(a){a.target.composing||t.$set(t.mail,"port",a.target.value)}}})])]),s("tr",[s("td",{attrs:{width:"25%"}},[s("b",[t._v("TLS")])]),s("td",{attrs:{width:"80%"}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mail.is_auto_tls,expression:"mail.is_auto_tls"}],staticClass:"custom-control-input",attrs:{id:"invalidCheck",type:"checkbox","false-value":0,"true-value":1},domProps:{checked:Array.isArray(t.mail.is_auto_tls)?t._i(t.mail.is_auto_tls,null)>-1:t._q(t.mail.is_auto_tls,1)},on:{change:function(a){var s=t.mail.is_auto_tls,e=a.target,i=e.checked?1:0;if(Array.isArray(s)){var l=null,o=t._i(s,l);e.checked?o<0&&t.$set(t.mail,"is_auto_tls",s.concat([l])):o>-1&&t.$set(t.mail,"is_auto_tls",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.mail,"is_auto_tls",i)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"invalidCheck"}},[t._v(t._s(t.$t("mail.is-auto-tls")))])])])])]),s("tr",[s("td",{attrs:{width:"0%"}}),s("td",{staticClass:"text-right",attrs:{width:"100%"}},[s("div",["load"==t.check_status?s("b-button",{staticClass:"text-muted",attrs:{variant:"light"}},[s("i",{staticClass:"bx bx-hourglass bx-spin font-size-16 align-middle"}),t._v(" Loading... ")]):t._e(),"success"==t.check_status?s("b-button",{staticClass:"text-success",attrs:{variant:"light"}},[s("i",{staticClass:"bx bx-xs bx-check-shield align-middle"}),s("b",[t._v(" "+t._s(t.$t("mail.success"))+" ")])]):t._e(),"failed"==t.check_status?s("b-button",{staticClass:"text-danger",attrs:{variant:"light"}},[s("i",{staticClass:"bx bxs-error-circle"}),s("b",[t._v(" "+t._s(t.$t("mail.failed"))+" ")])]):t._e(),"load"!==t.check_status?s("b-button",{staticClass:"btn border text-muted ml-1",attrs:{variant:"light"},on:{click:function(a){return t.cekMails()}}},[t._v(" "+t._s(t.$t("mail.check-setting"))+" ")]):t._e(),s("b-button",{staticClass:"btn",attrs:{variant:"success ml-1"},on:{click:function(a){return t.updateMails(t.mail.id)}}},[t._v(t._s(t.$t("all.update"))+" ")])],1)])])])])])])])])])])])],1)},l=[],o=(s("a4d3"),s("e01a"),s("2b0e")),r=(s("3d20"),s("444f")),n=s("2579"),c=s("c2a4"),d=s("973b"),u=s("d4ec"),m=s("bee2"),h=s("bc3a"),p=s.n(h),v=s("6808"),_="http://localhost:8003/api/",f=function(){function t(){Object(u["a"])(this,t)}return Object(m["a"])(t,[{key:"getMail",value:function(){return p.a.get(_+"mail/1",{headers:Object(v["a"])()})}},{key:"updateMail",value:function(t){return p.a.patch(_+"mail/1",t,{headers:Object(v["a"])()})}},{key:"cekMail",value:function(t){return p.a.post(_+"mail/check",t,{headers:Object(v["a"])()})}}]),t}(),b=new f,g=(s("86b6"),s("c1df")),w=s.n(g),x={page:{meta:[{name:"description",content:c.description}]},components:{Layout:r["a"],PageHeader:n["a"]},data:function(){return{urlImage:"http://localhost:8003/api/accout/avatar?name=",user_type:"",title:this.$t("mail.mail-setting"),items:[{text:this.$t("menuitems.dashboards.text"),href:"#"},{text:this.$t("mail.mail-setting"),active:!0}],check_status:"",mail:{id:"",email_sender:"",host:"",username:"",password:"",port:"",is_auto_tls:0},loading:!1,submitted:!1}},validations:{form:{}},methods:{list:function(){var t=this;d["a"].getProfile().then((function(a){t.user_type=a.data.data.admin.role})).catch((function(a){t.message=a.response.data.data}))},getMail:function(){var t=this;this.loading=!0,b.getMail().then((function(a){t.mail=[];var s={id:a.data.data.id,email_sender:a.data.data.email_sender,host:a.data.data.host,username:a.data.data.username,password:a.data.data.password,port:a.data.data.port,is_auto_tls:a.data.data.is_auto_tls,created_at:t.formatDate(a.data.data.created_at),updated_at:t.formatDate(a.data.data.updated_at)};t.mail=s,t.loading=!1})).catch((function(a){t.loading=!1,console.log(a)}))},updateMails:function(t,a){var s=this;if(this.submitted=!0,this.$v.form.$touch(),""==this.mail.email_sender)t.preventDefault();else{var e=this.mail;b.updateMail(e).then((function(t){o["default"].swal({position:"top-end",icon:"success",title:t.data.message,showConfirmButton:!1,timer:1500}),s.$v.$reset()})).catch((function(t){console.log(t)}))}},cekMails:function(){var t=this;if(this.submitted=!0,this.$v.form.$touch(),""==this.mail.email_sender)e.preventDefault();else{var a=this.mail;this.check_status="load",b.cekMail(a).then((function(a){0==a.data.success?t.check_status="failed":t.check_status="success"})).catch((function(a){console.log(a),t.check_status="failed"}))}},formatDate:function(t){return w()(t).format("YYYY-MM-DD, hh:mm")}},beforeMount:function(){this.list()},mounted:function(){this.getMail()}},C=x,k=(s("0cf9"),s("2877")),$=Object(k["a"])(C,i,l,!1,null,"6b42278e",null);a["default"]=$.exports},d13a:function(t,a,s){}}]);
//# sourceMappingURL=chunk-4f86d3f6.14fb9eb9.js.map