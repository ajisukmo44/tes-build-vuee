{"version":3,"sources":["webpack:///./src/router/view/mail/mail.vue?7c50","webpack:///./src/router/view/mail/mail.vue?6f05","webpack:///./src/helpers/mail.service.js","webpack:///src/router/view/mail/mail.vue","webpack:///./src/router/view/mail/mail.vue?1c17","webpack:///./src/router/view/mail/mail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","items","staticClass","_v","_e","loading","user_type","_s","$t","directives","name","rawName","value","mail","expression","domProps","on","$event","target","composing","$set","Array","isArray","is_auto_tls","_i","_q","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","check_status","cekMails","updateMails","id","staticRenderFns","API_URL","process","MailService","axios","get","headers","authHeader","data","patch","post","page","meta","content","components","Layout","PageHeader","urlImage","text","href","active","submitted","validations","form","methods","list","UserService","then","catch","getMail","email_sender","host","username","password","port","created_at","updated_at","console","e","$v","$touch","Vue","position","icon","showConfirmButton","timer","formatDate","format","beforeMount","mounted","component"],"mappings":"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","file":"js/chunk-4f86d3f6.14fb9eb9.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mail.vue?vue&type=style&index=0&id=6b42278e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('PageHeader',{attrs:{\"title\":_vm.title,\"items\":_vm.items}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-8\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[(_vm.loading)?_c('div',{staticClass:\"row mt-5 mb-5 pb-4 mx-auto\"},[_c('div',{staticClass:\"col-12 p-5 m-4 text-center\"},[(_vm.loading)?_c('div',{staticClass:\"spinner-border text-secondary\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading..\")])]):_vm._e()])]):_vm._e(),(!_vm.loading && _vm.user_type == 'su')?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"font-weight-bold mb-4\"},[_vm._v(\"Mail\")]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table bordered table text-left\"},[_c('thead',[_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm.$t('mail.email-sender')))])]),_c('td',{attrs:{\"width\":\"70%\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.email_sender),expression:\"mail.email_sender\"}],staticClass:\"form-control bg-light\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mail.email_sender)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mail, \"email_sender\", $event.target.value)}}})])]),_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(\"Host\")])]),_c('td',{attrs:{\"width\":\"70%\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.host),expression:\"mail.host\"}],staticClass:\"form-control bg-light\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mail.host)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mail, \"host\", $event.target.value)}}})])]),_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(\"Username\")])]),_c('td',{attrs:{\"width\":\"80%\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.username),expression:\"mail.username\"}],staticClass:\"form-control bg-light\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mail.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mail, \"username\", $event.target.value)}}})])]),_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(\"Password\")])]),_c('td',{attrs:{\"width\":\"80%\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.password),expression:\"mail.password\"}],staticClass:\"form-control bg-light\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mail.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mail, \"password\", $event.target.value)}}})])]),_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(\"Port\")])]),_c('td',{attrs:{\"width\":\"80%\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.port),expression:\"mail.port\"}],staticClass:\"form-control bg-light\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.mail.port)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mail, \"port\", $event.target.value)}}})])]),_c('tr',[_c('td',{attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(\"TLS\")])]),_c('td',{attrs:{\"width\":\"80%\"}},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mail.is_auto_tls),expression:\"mail.is_auto_tls\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"invalidCheck\",\"type\":\"checkbox\",\"false-value\":0,\"true-value\":1},domProps:{\"checked\":Array.isArray(_vm.mail.is_auto_tls)?_vm._i(_vm.mail.is_auto_tls,null)>-1:_vm._q(_vm.mail.is_auto_tls,1)},on:{\"change\":function($event){var $$a=_vm.mail.is_auto_tls,$$el=$event.target,$$c=$$el.checked?(1):(0);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.mail, \"is_auto_tls\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.mail, \"is_auto_tls\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.mail, \"is_auto_tls\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"invalidCheck\"}},[_vm._v(_vm._s(_vm.$t(\"mail.is-auto-tls\")))])])])])]),_c('tr',[_c('td',{attrs:{\"width\":\"0%\"}}),_c('td',{staticClass:\"text-right\",attrs:{\"width\":\"100%\"}},[_c('div',[(_vm.check_status == 'load')?_c('b-button',{staticClass:\"text-muted\",attrs:{\"variant\":\"light\"}},[_c('i',{staticClass:\"bx bx-hourglass bx-spin font-size-16 align-middle\"}),_vm._v(\" Loading... \")]):_vm._e(),(_vm.check_status == 'success')?_c('b-button',{staticClass:\"text-success\",attrs:{\"variant\":\"light\"}},[_c('i',{staticClass:\"bx bx-xs bx-check-shield align-middle\"}),_c('b',[_vm._v(\" \"+_vm._s(_vm.$t(\"mail.success\"))+\" \")])]):_vm._e(),(_vm.check_status == 'failed')?_c('b-button',{staticClass:\"text-danger\",attrs:{\"variant\":\"light\"}},[_c('i',{staticClass:\"bx bxs-error-circle\"}),_c('b',[_vm._v(\" \"+_vm._s(_vm.$t(\"mail.failed\"))+\" \")])]):_vm._e(),(_vm.check_status !== 'load')?_c('b-button',{staticClass:\"btn border text-muted ml-1\",attrs:{\"variant\":\"light\"},on:{\"click\":function($event){return _vm.cekMails()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"mail.check-setting\"))+\" \")]):_vm._e(),_c('b-button',{staticClass:\"btn\",attrs:{\"variant\":\"success ml-1\"},on:{\"click\":function($event){return _vm.updateMails(_vm.mail.id)}}},[_vm._v(_vm._s(_vm.$t(\"all.update\"))+\" \")])],1)])])])])])])]):_vm._e()])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\r\nimport { authHeader } from './authservice/auth-header';\r\n\r\nconst API_URL = process.env.VUE_APP_BASE_API_URL;\r\n\r\nclass MailService {\r\n    // admin\r\n    getMail() {\r\n        return axios.get(API_URL+'mail/1', { headers: authHeader() });\r\n    }\r\n\r\n    updateMail(data) {\r\n        return axios.patch(API_URL+'mail/1', data, { headers: authHeader() });\r\n    }\r\n\r\n    cekMail(data) {\r\n        return axios.post(API_URL+'mail/check', data, { headers: authHeader() });\r\n    }\r\n\r\n}\r\n\r\nexport default new MailService();\r\n","<template>\r\n  <Layout>\r\n    <PageHeader :title=\"title\" :items=\"items\" />\r\n    <div class=\"row\">\r\n      <div class=\"col-8\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row mt-5 mb-5 pb-4 mx-auto\" v-if=\"loading\">\r\n                <div class=\"col-12 p-5 m-4 text-center\">\r\n                    <div class=\"spinner-border text-secondary\" role=\"status\" v-if=\"loading\">\r\n                        <span class=\"sr-only\">Loading..</span>\r\n                      </div>\r\n                </div>\r\n            </div>\r\n                <div class=\"card\" v-if=\"!loading && user_type == 'su'\">\r\n                  <div class=\"card-body\">\r\n                    <h5 class=\"font-weight-bold mb-4\">Mail</h5>\r\n                        <div class=\"table-responsive\">\r\n                            <table class=\"table bordered table text-left\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <td width=\"25%\"><b>{{ $t('mail.email-sender') }}</b></td>\r\n                                    <td width=\"70%\">\r\n                                        <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control bg-light\"\r\n                                          v-model=\"mail.email_sender\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td width=\"25%\"><b>Host</b></td>\r\n                                    <td width=\"70%\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control bg-light\"\r\n                                        v-model=\"mail.host\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n\r\n                                <tr>\r\n                                    <td width=\"25%\"><b>Username</b></td>\r\n                                    <td width=\"80%\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control bg-light\"\r\n                                        v-model=\"mail.username\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td width=\"25%\"><b>Password</b></td>\r\n                                    <td width=\"80%\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control bg-light\"\r\n                                        v-model=\"mail.password\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td width=\"25%\"><b>Port</b></td>\r\n                                    <td width=\"80%\">\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        class=\"form-control bg-light\"\r\n                                        v-model=\"mail.port\"\r\n                                        />\r\n                                    </td>\r\n                                </tr>\r\n                                 <tr>\r\n                                    <td width=\"25%\"><b>TLS</b></td>\r\n                                    <td width=\"80%\">\r\n                                        <div class=\"form-group\">\r\n                                          <div class=\"custom-control custom-checkbox\">\r\n                                            <input id=\"invalidCheck\" type=\"checkbox\" :false-value=\"0\" :true-value=\"1\" class=\"custom-control-input\"  v-model=\"mail.is_auto_tls\"/>\r\n                                            <label\r\n                                              class=\"custom-control-label\"\r\n                                              for=\"invalidCheck\"\r\n                                            >{{$t(\"mail.is-auto-tls\")}}</label>\r\n                                          </div>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n\r\n\r\n                                  <tr>\r\n                                    <td width=\"0%\"></td>\r\n                                    <td width=\"100%\" class=\"text-right\">\r\n                                      <div>\r\n                                         <b-button variant=\"light\" v-if=\"check_status == 'load'\" class=\"text-muted\">\r\n                                              <i class=\"bx bx-hourglass bx-spin font-size-16 align-middle\" ></i> Loading...\r\n                                        </b-button>\r\n                                          <b-button variant=\"light\" v-if=\"check_status == 'success'\" class=\"text-success\">\r\n                                              <i class=\"bx bx-xs bx-check-shield align-middle\"></i><b> {{ $t(\"mail.success\") }}  </b>\r\n                                        </b-button>\r\n                                          <b-button variant=\"light\" v-if=\"check_status == 'failed'\" class=\"text-danger\">\r\n                                              <i class=\"bx bxs-error-circle\"></i><b> {{ $t(\"mail.failed\") }}  </b>\r\n                                        </b-button>\r\n                                        <b-button variant=\"light\" @click=\"cekMails()\" class=\"btn border text-muted ml-1\" v-if=\"check_status !== 'load'\">\r\n                                            {{ $t(\"mail.check-setting\") }} \r\n                                        </b-button>\r\n                                        <b-button class=\"btn\" variant=\"success ml-1\" @click=\"updateMails(mail.id)\">{{ $t(\"all.update\") }} </b-button>\r\n                                      </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </thead>\r\n                            </table>\r\n                        </div>\r\n                  </div>\r\n                </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport Swal from \"sweetalert2\";\r\nimport Layout from \"../../layouts/main\";\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"@/app.config\";\r\nimport { required, sameAs } from \"vuelidate/lib/validators\";\r\nimport UserService from \"@/helpers/user.service\";\r\nimport MailService from \"@/helpers/mail.service\";\r\nimport store from '@/state/store';\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  page: {\r\n    meta: [{ name: \"description\", content: appConfig.description }],\r\n  },\r\n  components: { Layout, PageHeader },\r\n  data() {\r\n    return {\r\n      urlImage: process.env.VUE_APP_BASE_API_URL_AVATAR,\r\n      user_type: '',\r\n      title: this.$t(\"mail.mail-setting\"),\r\n      items: [\r\n        {\r\n          text: this.$t(\"menuitems.dashboards.text\"),\r\n          href: \"#\",\r\n        },\r\n        {\r\n          text: this.$t(\"mail.mail-setting\"),\r\n          active: true,\r\n        },\r\n      ],\r\n      check_status: '',\r\n      mail:{\r\n          \"id\": \"\",\r\n          \"email_sender\": \"\",\r\n          \"host\": \"\",\r\n          \"username\": \"\",\r\n          \"password\": \"\",\r\n          \"port\": \"\",\r\n          \"is_auto_tls\": 0,\r\n      },\r\n      loading:false,\r\n      submitted: false,\r\n    };\r\n  },\r\n  validations: {\r\n    form: {\r\n        // email_sender: { required },\r\n    },\r\n  },\r\n  methods: {\r\n    list() {\r\n      // this.loading = true;\r\n      UserService.getProfile()\r\n      .then(response => {\r\n        this.user_type = response.data.data.admin.role\r\n      })\r\n      .catch(e => {\r\n        this.message = e.response.data.data\r\n      });\r\n    },\r\n    getMail() {\r\n      this.loading = true;\r\n      MailService.getMail()\r\n        .then((response) => {\r\n          this.mail = [];\r\n          \r\n            const data = {\r\n              id: response.data.data.id,\r\n              email_sender: response.data.data.email_sender,\r\n              host: response.data.data.host,\r\n              username: response.data.data.username,\r\n              password: response.data.data.password,\r\n              port: response.data.data.port,\r\n              is_auto_tls: response.data.data.is_auto_tls,\r\n        \r\n              created_at: this.formatDate(response.data.data.created_at),\r\n              updated_at: this.formatDate(response.data.data.updated_at),\r\n            };\r\n            this.mail = data;\r\n            this.loading = false;\r\n         \r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    updateMails(e, id) {\r\n      this.submitted = true;\r\n      this.$v.form.$touch();\r\n      if ( this.mail.email_sender == \"\" ) {\r\n        e.preventDefault();\r\n      } else {\r\n        let data = this.mail;\r\n        // console.log(data);\r\n        MailService.updateMail(data)\r\n          .then((response) => {\r\n            Vue.swal({\r\n              position: \"top-end\",\r\n              icon: \"success\",\r\n              title: response.data.message,\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            this.$v.$reset();\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n\r\n    cekMails() {\r\n      this.submitted = true;\r\n      this.$v.form.$touch();\r\n      if ( this.mail.email_sender == \"\" ) {\r\n        e.preventDefault();\r\n      } else {\r\n        let data = this.mail;\r\n        this.check_status = 'load';\r\n        // console.log(data);\r\n        MailService.cekMail(data)\r\n          .then((response) => {\r\n            // console.log(response.data);\r\n            // if(response.data.success){\r\n            //     Vue.swal({\r\n            //     position: \"top-end\",\r\n            //     icon: \"success\",\r\n            //     title: response.data.message,\r\n            //     showConfirmButton: false,\r\n            //     timer: 1500,\r\n            // });\r\n            // }\r\n              if (response.data.success == false) {\r\n                    this.check_status = 'failed';\r\n                } else {\r\n                    this.check_status = 'success';\r\n                }\r\n\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.check_status = 'failed';\r\n          //    if(response.data.success){\r\n          //       Vue.swal({\r\n          //       position: \"top-end\",\r\n          //       icon: \"failed\",\r\n          //       title: response.data.message,\r\n          //       showConfirmButton: false,\r\n          //       timer: 1500,\r\n          //   });\r\n          // }\r\n        });\r\n      }\r\n    },\r\n    formatDate(value) {\r\n      return moment(value).format(\"YYYY-MM-DD, hh:mm\");\r\n    },\r\n  },\r\n  beforeMount(){\r\n    this.list();\r\n  },\r\n  mounted() {\r\n    this.getMail();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.badge {\r\n  border-radius: 2%;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mail.vue?vue&type=template&id=6b42278e&scoped=true&\"\nimport script from \"./mail.vue?vue&type=script&lang=js&\"\nexport * from \"./mail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mail.vue?vue&type=style&index=0&id=6b42278e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b42278e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}