(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc06f042"],{"163f":function(t,a,s){"use strict";var e=s("d4ec"),i=s("bee2"),r=s("bc3a"),c=s.n(r),d=s("6808"),n="http://localhost:8003/api/",o=function(){function t(){Object(e["a"])(this,t)}return Object(i["a"])(t,[{key:"getAllCase",value:function(){return c.a.get(n+"case",{headers:Object(d["a"])()})}},{key:"getCaseDetail",value:function(t){return c.a.get(n+"case/"+t,{headers:Object(d["a"])()})}},{key:"deleteCase",value:function(t){return c.a.delete(n+"case/"+t,{headers:Object(d["a"])()})}}]),t}();a["a"]=new o},"2cc2":function(t,a,s){"use strict";s("b795")},"6bd8":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",[e("PageHeader",{attrs:{title:t.title,items:t.items}}),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row px-2"},[e("div",{staticClass:"col-sm-6"},[e("b",[t._v("ID:")]),t._v(" "+t._s(t.detail_case.id_case)+" ")]),e("div",{staticClass:"col-sm-6 text-right"},[e("b-button",{staticClass:"btn btn-sm px-2",attrs:{variant:"success"},on:{click:t.generateReport}},[t.loading.generate?t._e():e("i",{staticClass:"bx bx-downvote mr-1"}),t.loading.generate?e("i",{staticClass:"bx bx-loader-alt bx-spin mr-1"}):t._e(),t._v(" Download ")])],1)]),e("hr"),e("div",{staticClass:"row px-2"},[e("div",{staticClass:"col-6"},[e("address",[e("strong",{staticClass:"mb-2"},[t._v(t._s(t.$t("case.agent")))]),t._v(" "),e("br"),t.agen_list[0]?e("div",t._l(t.agen_list,(function(t){return e("span",{key:t.id},[e("img",{staticClass:"mr-1 mt-1 rounded-circle avatar-xs",attrs:{src:s("4b9b"),alt:"user-pic",title:t.agent.account.name}})])})),0):e("div",[t._v(" - ")])])]),e("div",{staticClass:"col-6 text-right"},[e("address",[e("strong",{staticClass:"font-size-15"},[t._v(t._s(t.$t("case.customer")))]),e("br"),t._v(t._s(t.customer.account.name)+" "),e("br"),t._v(t._s(t.customer.account.phone)+" "),e("br"),t._v(t._s(t.customer.account.email)+" ")])])]),e("div",{staticClass:"p-2 mt-3"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("td",[t._v(t._s(t.$t("case.incident-date")))]),e("td",[t._v(t._s(t.detail_case.incident_date))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.category")))]),e("td",[t._v(t._s(t.detail_case.category))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.classification")))]),e("td",[t._v(t._s(t.detail_case.classification))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.rating")))]),e("td",[t.rating?e("div",t._l(parseFloat(t.rating),(function(t){return e("span",{key:t},[e("i",{staticClass:"bx bx-star mr-1"})])})),0):t._e()])]),e("tr",[e("td",[t._v(t._s(t.$t("case.feedback")))]),e("td",[e("span",[t._v(t._s(t.detail_case.feedback))])])]),e("tr",[e("td",[t._v(t._s(t.$t("case.case-status")))]),e("td",["in_handling"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-info px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e(),"accepted"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-warning px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e(),"completed"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-success px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e()])])])])]),t.agen_list[0]?e("div",{staticClass:"p-2 mt-3"},[e("h5",{staticClass:"font-size-15"},[e("strong",[t._v(t._s(t.$t("case.agen-report")))])]),e("div",{attrs:{role:"tablist"}},t._l(t.agen_list,(function(a,i){return e("b-card",{key:a.id,staticClass:"mb-1 shadow-none",attrs:{"no-body":""}},[e("b-card-header",{attrs:{"header-tag":"header",role:"tab"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-10"},[e("h6",{staticClass:"m-0"},[e("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+a.id,expression:"'accordion-'+report.id"}],staticClass:"text-dark btn-block",attrs:{href:"javascript: void(0);"}},[t._v(t._s(i+1)+". "+t._s(a.agent.account.name))])])]),e("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+a.id,expression:"'accordion-'+report.id"}],staticClass:"col-sm-2 text-right"},[e("i",{staticClass:"bx bx-chevron-down bx"})])])]),e("b-collapse",{attrs:{id:"accordion-"+a.id,accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",{staticClass:"border"},[e("h6",{staticClass:"pt-2"},[e("b",[t._v(t._s(t.$t("case.profile")))])]),e("table",{staticClass:"table table-bordered"},[e("tr",[e("th",{attrs:{width:"25%"}},[t._v("NIK")]),e("td",[t._v(t._s(a.agent.nik))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.name")))]),e("td",[t._v(t._s(a.agent.account.name))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.region")))]),e("td",[t._v(t._s(a.agent.id_region))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.email")))]),e("td",[t._v(t._s(a.agent.account.email))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.phone")))]),e("td",[t._v(t._s(a.agent.account.phone))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.birth-date")))]),e("td",[t._v(t._s(a.agent.birth_date))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.gender")))]),e("td",[t._v(t._s(a.agent.account.gender))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.address")))]),e("td",[t._v(t._s(a.agent.address))])])]),a.report?e("h6",{staticClass:"pt-2"},[e("b",[t._v(t._s(t.$t("case.report")))])]):t._e(),a.report?e("table",{staticClass:"table table-bordered"},[e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.id-report")))]),e("td",[t._v(t._s(a.report.id_report))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.id-case")))]),e("td",[t._v(t._s(a.report.id_case))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.title")))]),e("td",[t._v(t._s(a.report.title))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v("Status")]),e("td",["finished"==a.report.report_status?e("span",{staticClass:"badge badge-soft-success py-1 px-2 font-size-12 rounded"},[t._v(t._s(a.report.report_status))]):t._e(),"accepted"==a.report.report_status?e("span",{staticClass:"badge badge-info py-1 px-2 font-size-12 rounded"},[t._v(t._s(a.report.report_status))]):t._e()])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.location-address")))]),e("td",[t._v(t._s(a.report.location_address))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.description")))]),e("td",[t._v(t._s(a.report.description))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.accepted")))]),e("td",[t._v(t._s(t.formatDate(a.report.accepted)))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.finished")))]),e("td",[t._v(t._s(t.formatDate(a.report.finished)))])]),e("tr",[e("td",{attrs:{colspan:"2"}},[e("b",[t._v(t._s(t.$t("case.picture")))]),t._v(" "),e("br"),a.report.picture1?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture2?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture3?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture4?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture5?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e()])])]):t._e()])],1)],1)})),1)]):t._e()])])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body px-2"},[e("h5",{staticClass:"font-size-15 px-3"},[e("strong",[t._v(t._s(t.$t("case.incident-location")))])]),t.detail_case.location_coordinate?e("div",{staticClass:"card px-3"},[e("gmap-map",{ref:"mymap",staticStyle:{height:"50vh"},attrs:{center:{lat:parseFloat(t.lat),lng:parseFloat(t.long)},zoom:8}},[e("gmap-marker",{attrs:{position:t.google&&new t.google.maps.LatLng(t.lat,t.long)}})],1)],1):t._e()])])])]),e("div",{staticClass:"py-2 px-2"},[e("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":t.enableDownload,"preview-modal":t.previewModal,"paginate-elements-by-height":1900,filename:t.filename,"pdf-quality":2,"manual-pagination":!0,"pdf-format":"letter","pdf-orientation":"portrait","pdf-content-width":"800px"}},[e("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"card col-12"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row px-2"},[e("div",{staticClass:"col-sm-6"},[e("b",[t._v("ID:")]),t._v(" "+t._s(t.detail_case.id_case)+" ")]),e("div",{staticClass:"col-sm-6 text-right"},[e("h4",[e("b",[t._v(t._s(t.$t("case.report-case")))])])])]),e("hr"),e("div",{staticClass:"row px-2"},[e("div",{staticClass:"col-6"},[e("address",[e("strong",{staticClass:"mb-2"},[t._v(t._s(t.$t("case.agent")))]),t._v(" "),e("br"),t.agen_list[0]?e("div",t._l(t.agen_list,(function(t){return e("span",{key:t.id},[e("img",{staticClass:"mr-1 mt-1 rounded-circle avatar-xs",attrs:{src:s("4b9b"),alt:"user-pic",title:t.agent.account.name}})])})),0):e("div",[t._v(" - ")])])]),e("div",{staticClass:"col-6 text-right"},[e("address",[e("strong",{staticClass:"font-size-15"},[t._v(t._s(t.$t("case.customer")))]),e("br"),t._v(t._s(t.customer.account.name)+" "),e("br"),t._v(t._s(t.customer.account.phone)+" "),e("br"),t._v(t._s(t.customer.account.email)+" ")]),t._v(" "+t._s(t.agent)+" ")])]),e("div",{staticClass:"p-2 mt-3"},[e("h6",[t._v(t._s(t.$t("case.report-summary")))]),e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("td",{attrs:{width:"30%"}},[t._v(t._s(t.$t("case.incident-date")))]),e("td",[t._v(t._s(t.detail_case.incident_date))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.category")))]),e("td",[t._v(t._s(t.detail_case.category))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.classification")))]),e("td",[t._v(t._s(t.detail_case.classification))])]),e("tr",[e("td",[t._v(t._s(t.$t("case.rating")))]),e("td",[t.rating?e("div",t._l(parseFloat(t.rating),(function(t){return e("span",{key:t},[e("i",{staticClass:"bx bx-star mr-1"})])})),0):t._e()])]),e("tr",[e("td",[t._v(t._s(t.$t("case.feedback")))]),e("td",[e("span",[t._v(t._s(t.detail_case.feedback))])])]),e("tr",[e("td",[t._v(t._s(t.$t("case.case-status")))]),e("td",["in_handling"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-info px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e(),"accepted"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-warning px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e(),"completed"==t.detail_case.case_status?e("span",{staticClass:"badge-pill badge-soft-success px-2 py-1 rounded"},[t._v(" "+t._s(t.detail_case.case_status)+" ")]):t._e()])])])])]),e("div",{staticClass:"maps"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[e("h5",{staticClass:"font-size-15 px-2"},[e("strong",[t._v(t._s(t.$t("case.incident-location")))])])]),e("div",{staticClass:"col-7 text-right pr-4"},[e("span",{staticClass:"text-muted"},[t._v(t._s(t.detail_case.location_coordinate))])])]),t.detail_case.location_coordinate?e("div",{staticClass:"card px-2"},[e("gmap-map",{ref:"mymap",staticStyle:{height:"45vh"},attrs:{center:{lat:parseFloat(t.lat),lng:parseFloat(t.long)},zoom:12}},[e("gmap-marker",{attrs:{position:t.google&&new t.google.maps.LatLng(t.lat,t.long)}})],1)],1):t._e()]),e("div",{staticClass:"html2pdf__page-break"}),e("div",{staticClass:"agent pt-4"},[e("div",{staticClass:"row px-2"},[e("div",{staticClass:"col-sm-6"},[e("b",[t._v("ID:")]),t._v(" "+t._s(t.detail_case.id_case)+" ")]),e("div",{staticClass:"col-sm-6 text-right"},[e("h4",[e("b",[t._v(t._s(t.$t("case.agent-report")))])])])]),e("hr"),t.agen_list[0]?e("div",{staticClass:"card px-2"},t._l(t.agen_list,(function(a,i){return e("div",{key:i},[e("div",{staticClass:"row mb-2 pt-4"},[e("div",{staticClass:"col-sm-12 px-0"},[e("table",{staticClass:"table table-bordered pt-3"},[e("tr",{},[e("th",{staticClass:"pl-4",attrs:{width:"25%",colspan:"2"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-2 px-0 text-center"},[e("div",{staticClass:" p-3"},[e("img",{staticClass:"mr-1 mt-1 rounded-circle avatar-md",attrs:{src:s("4b9b"),alt:"user-pic"}})])]),e("div",{staticClass:"col-sm-10 px-0"},[e("div",{staticClass:" p-3"},[e("h5",[e("b",[t._v(t._s(a.agent.account.name)+" ")])]),e("h6",[t._v(t._s(a.agent.nik)+" ")]),e("h6",[t._v(t._s(a.agent.birth_date)+" ")])])])])])]),e("tr",{},[e("th",{staticClass:"pl-4",attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.email")))]),e("td",{staticClass:"pl-4"},[t._v(t._s(a.agent.account.email))])]),e("tr",[e("th",{staticClass:"pl-4",attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.region")))]),e("td",{staticClass:"pl-4"},[t._v(t._s(a.agent.id_region))])]),e("tr",[e("th",{staticClass:"pl-4",attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.phone")))]),e("td",{staticClass:"pl-4"},[t._v(t._s(a.agent.account.phone))])]),e("tr",[e("th",{staticClass:"pl-4",attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.gender")))]),e("td",{staticClass:"pl-4"},[t._v(t._s(a.agent.account.gender))])]),e("tr",[e("th",{staticClass:"pl-4",attrs:{width:"25%"}},[t._v(t._s(t.$t("user-management.address")))]),e("td",{staticClass:"pl-4"},[t._v(t._s(a.agent.address))])])])])]),e("div",{staticClass:"row"},[a.report?e("table",{staticClass:"table table-bordered pt-3"},[e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.id-report")))]),e("td",[t._v(t._s(a.report.id_report))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.title")))]),e("td",[t._v(t._s(a.report.title))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v("Status")]),e("td",["finished"==a.report.report_status?e("span",{staticClass:"badge badge-soft-success py-1 px-2 font-size-12 rounded"},[t._v(t._s(a.report.report_status))]):t._e(),"accepted"==a.report.report_status?e("span",{staticClass:"badge badge-info py-1 px-2 font-size-12 rounded"},[t._v(t._s(a.report.report_status))]):t._e()])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.description")))]),e("td",[t._v(t._s(a.report.description))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.accepted")))]),e("td",[t._v(t._s(t.formatDate(a.report.accepted)))])]),e("tr",[e("th",{attrs:{width:"25%"}},[t._v(t._s(t.$t("case.finished")))]),e("td",[t._v(t._s(t.formatDate(a.report.finished)))])]),e("tr",[e("td",{attrs:{colspan:"2"}},[e("b",[t._v(t._s(t.$t("case.picture")))]),t._v(" "),e("br"),a.report.picture1?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture2?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture3?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture4?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e(),a.report.picture5?e("img",{staticClass:"img-fluid rounded w-20 p-1",attrs:{src:s("8d25")}}):t._e()])])]):t._e()]),e("div",{staticClass:"html2pdf__page-break"})])})),0):t._e()])])])])])])],1)],1)},i=[],r=(s("a4d3"),s("e01a"),s("e9c4"),s("ac1f"),s("1276"),s("3d20"),s("444f")),c=s("2579"),d=s("c2a4"),n=(s("973b"),s("163f")),o=(s("86b6"),s("c1df")),l=s.n(o),_=s("ec45"),p=s("5c47"),g=s("8e5f"),v=s.n(g),u=s("755e"),m={page:{meta:[{name:"description",content:d.description}]},components:{Layout:r["a"],PageHeader:c["a"],DatePicker:_["a"],Switches:p["a"],Multiselect:v.a},data:function(){return{id_case:this.$route.params.id,title:this.$t("case.case-management-detail"),items:[{text:this.$t("menuitems.dashboards.text"),href:"#"},{text:this.$t("case.case-management"),href:"/case-management"},{text:this.$t("case.case-management-detail"),active:!0}],urlImage:"http://localhost:8003/api/accout/avatar?name=",user_type:"",detail_case:[],lat:"",long:"",rating:"",agen_list:[],customer:[],daterange:"",enableDownload:"",previewModal:"",filename:"report",loadingupdate:!1,loading:{generate:!1,print:!1},markers:[{position:{lat:-7.783992353559322,lng:110.37170620265111}}]}},computed:{google:u["gmapApi"]},watch:{address:{handler:function(t,a){console.log(JSON.stringify(t)),this.count1=t.count},deep:!0}},methods:{getDetail:function(){var t=this;n["a"].getCaseDetail(this.id_case).then((function(a){t.detail_case=[],console.log(a.data.data);var s={id_case:a.data.data.id_case,category:a.data.data.category,classification:a.data.data.classification,incident_date:t.formatDate(a.data.data.incident_date),location_coordinate:a.data.data.location_coordinate,id_customer:a.data.data.id_customer,rating:a.data.data.rating,feedback:a.data.data.feedback,case_status:a.data.data.status,created_at:t.formatDate(a.data.data.created_at),updated_at:t.formatDate(a.data.data.updated_at)};t.detail_case=s,t.agen_list=a.data.data.agentincasedetail,t.customer=a.data.data.customerdetail;var e=a.data.data.location_coordinate,i=e.split(",");t.lat=i[0],t.long=i[1],t.rating=a.data.data.rating})).catch((function(t){console.log(t)}))},generateReport:function(){var t=this;this.loading.generate=!0,this.enableDownload=!0,this.previewModal=!1,this.filename="case report "+this.id_case,setTimeout((function(){t.loading.generate=!1,t.$refs.html2Pdf.generatePdf()}),1e3)},formatDate:function(t){return l()(t).format("YYYY-MM-DD, hh:mm")}},mounted:function(){var t=this;this.getDetail(),this.$watch((function(){return t.openMap}),(function(){if(1==t.openMap){var a=t.detail_case.incident_date;console.log(a),t.geocodedAddress()}}))}},h=m,b=(s("2cc2"),s("2877")),f=Object(b["a"])(h,e,i,!1,null,"2acce5f8",null);a["default"]=f.exports},"8d25":function(t,a,s){t.exports=s.p+"img/img-2.a0a6f224.jpg"},b795:function(t,a,s){}}]);
//# sourceMappingURL=chunk-cc06f042.a13a95b1.js.map